---
title: 项目 Brief — 脑图驱动协同研发平台
date: 2025-12-12
owner: Enjoyjavapan
status: draft
---

## 1. 使命与目标
- 使命：以脑图为单一真相源（SoT），让需求/任务/知识/审批/执行在同一可视化空间流动，实现从构想到交付的实时协同。
- 具体目标：
  - 将传统“项目→任务→汇报”模式切换为“脑图驱动的协同执行”。
  - 在 1k+ 节点、50 人并发下保持无降级体验（P95 交互 <100ms，协同延迟 <200ms）。
  - 提供密级/字段/附件级权限与动态水印审计，满足分级访问与合规。

## 2. 关键用户与场景
- 项目/系统工程经理：梳理需求与依赖，下发任务并追踪甘特/时间线。
- 专业研发/架构/测试：在脑图中协同建模、下钻子图、提交与审批交付物。
- 安全与合规负责人：配置密级、审计下载/预览、监控违规。
- 目标场景：多团队并发、涉密/分级访问、跨专业项目（航天/通信/大型软件）。

## 3. 核心功能范围（MVP）
- 脑图与视图：自由/树/逻辑布局；快捷键与 / 命令；批量粘贴成树；节点下钻子图并回链。
- 信息模型：节点类型（需求/任务/模板/知识/控制/工具）；多版本+时间线；MBSE 关系（父子/依赖/数据流）。
- 执行驱动：任务映射；FS/SS/FF/SF 依赖；审批后自动推演下一任务；定期任务。
- 协同与权限：多人光标；锁定/解锁；冲突提示（人为合并）；密级/字段/附件级权限；动态水印（在线预览）；审计留存≥1年。
- 通知与节流：站内信；同节点同事件 5 分钟去重；5 分钟汇总；高优事件实时。
- 版本与可见性：未保存仅本人可见；自动保存；版本切换通知。

### 3.A 采纳的体验/功能增强（来自 Milanote 优点）
- 自由布局+排版控件：自由模式提供对齐/吸附/网格/距离指示线，可与树/逻辑模式互切。
- 模板与子树片段库：模板/片段一键插入并可预置字段必填与默认密级。
- 协同可见性：多人光标、评论线程、@mention 通知（套用 5 分钟节流），评论侧栏/抽屉呈现。
- 导出强化：PDF/PNG/Word/Markdown/纯文本/ZIP，导出可选水印、敏感字段遮罩、导出范围（全图/选中子树）。
- 访问可见性与审计：图/板级“访问记录”视图，列出访问/编辑/下载事件，支持按密级过滤并导出审计。
- 快速上手模式：/命令面板、粘贴文本/表格生成树、AI 一键骨架，显式快捷键提示。
- 分享与权限联动：只读/可评论链接分享（受密级判定），可查看已分享列表并一键失效链接，默认开启水印。
- （新增细化）导出与分享与敏感控制联动：导出/分享界面统一呈现水印开关、敏感字段遮罩与范围选项；操作写入审计与访问记录。

## 9. 增强项的架构落点
- Layout Engine：统一自由/树/逻辑布局，含对齐/吸附/网格/距离计算与持久化。
- Template Service：模板与子树片段仓库，支持字段/密级预置，插入时校验权限。
- Export Service：多格式导出管线，内置水印与敏感遮罩，可选范围（全图/子树），全程审计。
- Share & Link Manager：生成/失效分享链接，校验密级，记录访问者写入审计/访问记录。
- Audit/Visit Log：独立存储与查询接口，支持时间/密级过滤与导出。
- Command & Paste Engine：/命令、粘贴文本/表格→树预览确认；AI Skeleton 与模板/图数据联动。

## 10. UX 交互要点（增强覆盖）
- 画布：自由模式有对齐/吸附/网格开关；树/逻辑模式可一键切回；拖拽保持性能基线。
- 模板/片段：左侧模板抽屉可搜索预览，插入时提示字段/密级预置；支持将选中子树保存为片段。
- 协同与评论：多人光标、评论线程；@mention 触发节流通知；评论面板可侧栏或底部抽屉，未读标记。
- 导出/分享：单一对话框呈现格式、水印、遮罩、范围选项；操作写入审计并在访问记录可见。
- 访问记录：右上入口，时间线式展示查看/编辑/下载；支持过滤/导出。
- 快速上手：/命令面板、粘贴成树前的预览确认、AI 一键骨架；顶部 `?` 提示快捷键。

## 11. 增强项实施路径（R18–R24 对应）
- M1 设计冻结：定稿 R18–R24 交互与验收；选型 Layout/Template/Export/Share/Audit 组件。
- M2 技术验证：上线 R18 基础版（自由布局控件）、R20（协同可见性+@节流）、R23（/命令+粘贴预览+AI骨架）；完成 Export/Share/Audit 服务骨架并跑 1k 节点性能基线。
- M3 Beta：上线 R19（模板/片段库含密级预置）、R21（导出水印/遮罩/范围）、R22（访问记录视图+导出）、R24（分享联动默认水印、可失效链接）；优化 R18 持久化与细节。

## 4. 差异化卖点
1) 密级/字段/附件级权限 + 动态水印审计（竞品少涉）；  
2) 跨图血缘与数据流可视化，下钻子图同步回链；  
3) 明确的无降级性能基线（1k+ 节点、50 并发）；  
4) 审批驱动的执行编排（审批→自动推演下一任务）;  
5) 站内信节流规则（5 分钟去重+汇总，优先级实时）。

## 5. 非功能与指标
- 性能：加载 <2s；视图操作 P95<100ms；协同延迟 <200ms；批量操作 <400ms。
- 可靠性：关键操作快照+回滚；版本时间线。
- 安全/合规：密级匹配访问；水印仅在线预览；审计导出按人/节点/密级过滤。
- 可用性：快捷键帮助；模板库；子树复用。

## 6. 里程碑（建议）
- M0 策划锁定（本 brief）：2025-12-15
- M1 MVP 设计冻结：2026-01-15
- M2 技术验证（性能+权限+节流）完成：2026-02-15
- M3 Beta（50 并发、1k 节点场景）上线：2026-03-15
- 增强项（R18–R24）落地节奏参考 PRD 6.1（三阶段：设计冻结/技术验证/Beta）

## 7. 风险与对策（摘录）
- 性能风险：1k 节点渲染/协同；→ 懒加载分片、关系线视图裁剪、前端性能监测。
- 权限复杂度：密级/字段/附件/审批叠加；→ 继承+局部覆盖的 ACL 设计，审计强制记录。
- 通知噪音：高频事件；→ 5 分钟去重+汇总，优先级实时通道。
- 集成空白：专业工具/API 待定；→ 预留 webhook 与字段映射表，后续迭代。

## 8. 未决项
- 字段/附件级权限细则与默认继承策略。
- 血缘可视化的跨图同步粒度与冲突处理。
- 性能基线的测试脚本与监测指标细化。
- 国产化/内网部署、国密算法支持的优先级。
